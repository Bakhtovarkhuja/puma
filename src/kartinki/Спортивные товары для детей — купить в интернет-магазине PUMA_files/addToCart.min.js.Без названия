define(["gga.gtmEvent","gga.baseEventBody","helper.globalConfig",],function(gtmEvent,baseEventBody,globalConfig,){return function(analyticsData){const eventName="add_to_cart";const baseEventBodyObj=baseEventBody(eventName);const{formDataInfo,analyticsDataProduct:item}=analyticsData;const quantity=+(formDataInfo&&formDataInfo.response&&formDataInfo.response.product&&formDataInfo.response.product.qty);const itemCategory=formDataInfo&&formDataInfo.response&&formDataInfo.response.product&&formDataInfo.response.product.options&&formDataInfo.response.product.options[1]&&formDataInfo.response.product.options[1].value;gtmEvent(eventName,Object.assign(baseEventBodyObj,{items:[{"item_id":item.style||"","item_name":item.name||"","affiliation":globalConfig.affiliation||item.affiliation,"currency":globalConfig.currency,"discount":item.discount||0,"item_brand":item.item_brand,"item_category":itemCategory||"","item_category2":item.item_category2||"","item_category3":item.item_category3||"","item_variant":item.item_variant||"","price":item.price||"","quantity":quantity||1,"item_list_id":item.item_list_id||"","item_list_name":item.item_list_name||"",}],value:quantity*item.price||0,}));};});