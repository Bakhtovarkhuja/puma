define(["gga.gtmEvent","gga.baseEventBody","gga.generateItemFromCartData","helper.globalConfig","helper.getViewportType","helper.isCurrentPageUrlFromList","gga.cartTotalValue"],function(gtmEvent,baseEventBody,generateItemFromCartData,globalConfig,getViewportType,isCurrentPageUrlFromList,cartTotalValue,){return function(analyticsData){const eventName="general_ga4";const baseEventBodyObj=baseEventBody(eventName);const{cartData,customerData}=analyticsData;const{items_total,items_qty}=cartTotalValue(cartData);gtmEvent(eventName,Object.assign(baseEventBodyObj,{"pageType":window.pageCategory||"plp","customerID":customerData&&customerData.id?customerData.id:"","customerProfileID":customerData&&customerData.sessionID||"",cart:generateItemFromCartData(analyticsData),"items_qty":items_qty,"items_total":items_total,"customerAuth":Boolean(customerData&&customerData.email),"customerEmail":customerData&&customerData.email||"","pageTitle":document.title,"environment":isCurrentPageUrlFromList(["ua.puma.com"])?"prod":"beta","releaseVersion":window.pageData&&window.pageData.navigation&&window.pageData.navigation.releaseVersion||"2.0.0","viewport":getViewportType(),"country":globalConfig.country,"language":document.documentElement.getAttribute("lang"),"locale":globalConfig.locale}));};});