define(['jquery'],function($){'use strict'
const cache={}
function push(event){if(!window.pageData||!window.pageData.event){return;}
window.pageData.event.push(event)}
return function(){const showLabel=$.validator.prototype.showLabel
$.extend(true,$.validator.prototype,{showLabel:function(element,message){showLabel.call(this,element,message)
if(cache[message]){const cachedEl=cache[message].find(function(el){return el===element})
if(!cachedEl){cache[message].push(element)
push({type:'error message',name:message})}}else{cache[message]=[]}}})
return $.mage.validation}})