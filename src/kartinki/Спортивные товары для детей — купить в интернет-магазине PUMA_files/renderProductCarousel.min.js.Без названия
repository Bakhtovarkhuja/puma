define(["jquery","productSlickSliderConfig","slick","mage/translate","helper.intersectionObserver",],function($,productSlickSliderConfig,slick,translate,intersectionObserver,){return function(options={}){const{anchorDomElement=null,productsList=[],blockTitle="",additionalGetParameters={}}=options;const defaultImg='data:image/jpeg;base64,/9j/4QAYRXhpZgAASUkqAAgAAAAAAAAAAAAAAP/sABFEdWNreQABAAQAAABkAAD/4QMvaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLwA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/PiA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA1LjYtYzE0MiA3OS4xNjA5MjQsIDIwMTcvMDcvMTMtMDE6MDY6MzkgICAgICAgICI+IDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+IDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bXA6Q3JlYXRvclRvb2w9IkFkb2JlIFBob3Rvc2hvcCBDQyAyMDE4IChXaW5kb3dzKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo3OTVDRjU0MEFBOTYxMUVDOENFMEE0ODU5RTAyNDM5NyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDo3OTVDRjU0MUFBOTYxMUVDOENFMEE0ODU5RTAyNDM5NyI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjc5NUNGNTNFQUE5NjExRUM4Q0UwQTQ4NTlFMDI0Mzk3IiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjc5NUNGNTNGQUE5NjExRUM4Q0UwQTQ4NTlFMDI0Mzk3Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+/+4ADkFkb2JlAGTAAAAAAf/bAIQAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQICAgICAgICAgICAwMDAwMDAwMDAwEBAQEBAQECAQECAgIBAgIDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMD/8AAEQgB9AH0AwERAAIRAQMRAf/EAHEAAQEAAgICAwAAAAAAAAAAAAAIBgcDBQEJAgQKAQEAAAAAAAAAAAAAAAAAAAAAEAEAAgICAQQBAgQEBwAAAAAAAQIDBAUGESESEwcxIhRBUUIIYYEjFXEyUpJTJBYRAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhEDEQA/AP3oAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA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AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD//Z';if(!anchorDomElement){return;}
const buyBtnText=$.mage.__('Buy');if(!window.$addedRecommendationStyle){addBlockStyles();window.$addedRecommendationStyle=true;}
const containerEl=document.createElement("div");containerEl.classList.add("product-carousel","product-carousel-block");anchorDomElement.appendChild(containerEl);if(blockTitle){const titleDomElement=document.createElement("h3");titleDomElement.classList.add("product-carousel-block__title","product-detailed__title","product-carousel__title");titleDomElement.innerHTML=blockTitle;containerEl.appendChild(titleDomElement);}
const carouselBlock=document.createElement("div");carouselBlock.classList.add("product-carousel__products","kop-carousel","js-product-carousel-products");carouselBlock.setAttribute('data-observer-container','');containerEl.appendChild(carouselBlock);if(productsList.length){for(let i=0;i<productsList.length;i++){const sliderItem=document.createElement("div");sliderItem.classList.add("product-carousel__item","js-product-carousel-item");sliderItem.setAttribute('data-observe-slider-item','observe');sliderItem.setAttribute('data-name',productsList[i]?.name);sliderItem.setAttribute('data-color-article',productsList[i]?.color_article);if(Object.keys(additionalGetParameters).length){const modifiedUrl=new URL(productsList[i].url);for(const[key,value]of Object.entries(additionalGetParameters)){modifiedUrl.searchParams.set(key,value);}
productsList[i].url=modifiedUrl.toJSON();}
sliderItem.innerHTML=generateSliderItem(productsList[i]);carouselBlock.appendChild(sliderItem);}
$(carouselBlock).slick(productSlickSliderConfig(productsList.length));preloadNextSlide();$(carouselBlock).on('afterChange',afterSlideChangeHandler);function afterSlideChangeHandler(){setTimeout(preloadNextSlide,0);const hasObservableItem=carouselBlock.querySelectorAll('[data-observe-slider-item]');if(!hasObservableItem?.length){$(carouselBlock).off('afterChange',afterSlideChangeHandler);}}
function preloadNextSlide(){const activeSlides=carouselBlock.querySelectorAll('.slick-slide.slick-active');const lastActive=activeSlides?.[activeSlides.length-1];if(!lastActive){return;}
const slickIndex=+lastActive.dataset.slickIndex;const nextSlideItem=carouselBlock.querySelector(`[data-slick-index="${ slickIndex + 1 }"][data-observe-slider-item]`);if(!nextSlideItem){return;}
changeImageSrcAttr(nextSlideItem);}
function changeImageSrcAttr(slideItem){const imageElem=slideItem.querySelector('img[data-observe-slider-image]');const srcUrl=imageElem?.dataset?.lazySrc;if(!imageElem||!srcUrl){return;}
imageElem.setAttribute('src',srcUrl);delete imageElem?.dataset?.lazySrc;delete imageElem?.dataset?.observeSliderImage;delete slideItem.dataset.observeSliderItem;}
const slideImages=carouselBlock.querySelectorAll('[data-observe-slider-item]');if(slideImages?.length){intersectionObserver({domElements:slideImages,observerCallback:observerSliderImagesCb,observerOptions:{threshold:0.1,rootMargin:`400px 300px 400px 300px`}});function observerSliderImagesCb(entries,observer){entries.forEach(entry=>{if(!entry.target.dataset.observeSliderItem){observer.unobserve(entry.target);delete entry.target.dataset.observeSliderItem;}
if(entry.intersectionRatio>=0.1){changeImageSrcAttr(entry.target);observer.unobserve(entry.target);}});}}}
function generateSliderItem(item){const urlAddress=new URL(item.url);const eSputnicContainerType=new URLSearchParams(urlAddress.search).get("sc_content");return`
                <a
                    class="product-carousel__link"
                    data-observer-recommendation
                    data-es-id="${ item.id }"
                    data-es-container-type="${ eSputnicContainerType }"
                    href="${ item.url }"
                >
                    <div class="product-carousel__img-wrapper">
                        <img
                            class="product-carousel__img"
                            src="${ defaultImg }"
                            data-lazy-src="${ item.imageUrl }"
                            data-observe-slider-image
                            alt="${ item.name }"
                            width="250"
                            height="250"
                        >

                        ${ generateLabelBlock(
                            item?.[window.isLoggedIn ? 'logged_custom_label_1' : 'custom_label_1'],
                            item?.[window.isLoggedIn ? 'logged_custom_label_2' : 'custom_label_2'],
                            item?.[window.isLoggedIn ? 'logged_custom_label_3' : 'custom_label_3'],
                        )}

                        <button class="btn product-carousel__button only-desktop">
                            ${ buyBtnText }
                        </button>
                    </div>

                    <div class="product-carousel__name js-product-carousel-name">
                        ${ item.name }
                    </div>

                    <div class="product-carousel__price">
                        ${ generatePriceBlock(getRulesCurrentPrice(item), item.tags_old_price) }
                    </div>
                </a>
            `;}
function getRulesCurrentPrice(item){if(window.isLoggedIn&&item.logged_sale_price){return parseFloat(item.logged_sale_price);}
return item.price;}
function generatePriceBlock(currentPrice,oldPrice){const currencyTemplate=",00&nbsp;₴";let priceBlockTemplate=`
                <span class="special-price">
                      ${ currentPrice }${ currencyTemplate }
                </span>
            `;if(oldPrice){priceBlockTemplate=priceBlockTemplate+`
                    <span class="old-price sly-old-price no-display">
                        ${ oldPrice }${ currencyTemplate }
                    </span>
                `;}
return priceBlockTemplate;}
function generateLabelBlock(labelText,bgColor,textColor){if(!labelText){return"";}
function htmlDecode(input){const doc=new DOMParser().parseFromString(input,"text/html");return doc.documentElement.textContent;}
return`
                <div class="product-carousel__label-block" style="background-color: ${ bgColor }">
                    <div class="product-carousel__label-block-text" style="color: ${ textColor }">
                        ${ htmlDecode(labelText) }
                    </div>
                    <div class="product-carousel__label-block-arrow" style="border-right-color: ${ bgColor }"></div>
                </div>
            `;}
function addBlockStyles(){const style=document.createElement("style");style.textContent=`
                .product-carousel__label-block{
                    position: absolute;
                    top: 0;
                    left: 0;
                    background: #000000;
                }
                .product-carousel__label-block-text{
                    font: 1.2rem 'FFDIN Medium', 'FFDIN', Arial, sans-serif;
                    text-transform: uppercase;
                    line-height: 1;
                    padding: 0.4rem 0.5rem 0.5rem;
                }
                .product-carousel__label-block-arrow{
                    position: absolute;
                    left: 0;
                    width: 0;
                    height: 0;
                    border-style: solid;
                    border-width: 0 1rem 1rem 0;
                    border-color: transparent #000000 transparent transparent;
                }

                .product-carousel-block__title{
                    padding: 0;
                    margin-top: 3rem;
                    margin-bottom: 3rem;
                }

                .product-carousel-block .product-carousel__products{
                    margin-top: 3.5rem;
                }

                @media (max-width: 767px) {
                    .product-carousel-block__title{
                        margin-top: 2.3rem;
                        margin-bottom: 2rem;
                    }

                    .product-carousel-block .product-carousel__products{
                        margin-top: 2.5rem;
                    }
                }
            `;document.head.appendChild(style);}};});