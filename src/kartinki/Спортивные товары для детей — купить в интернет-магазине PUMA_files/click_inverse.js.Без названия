!function(){var r="salesdoubler_click_id",e=!1,o=[];function n(r){for(var e=r+"=",o=document.cookie.split(";"),n=0;n<o.length;n++){for(var t=o[n];" "===t.charAt(0);)t=t.substring(1,t.length);if(0===t.indexOf(e))return t.substring(e.length,t.length)}return null}function t(e,o){if(null!==e){var n,t,i,c;n=r,t=e,c="; expires="+((i=new Date).setTime(i.getTime()+864e7),i.toUTCString()),document.cookie=n+"="+(t||"")+c+"; path=/"}}function i(){var e=null;return n(r)}window.SalesDoubler={addSource:function(r,e){!function r(e,n){if("string"!=typeof e){console.error("source_param must be a string");return}if("string"!=typeof n){console.error("source_value must be a string");return}o.push({source_param:e.trim(),source_value:n.trim()})}(r,e)},init:function(c,l=!1){if("string"!=typeof c){console.error("click_param must be a string");return}if("boolean"!=typeof l){console.error("debug must be a string");return}c=c.trim(),e=l,u=null,null!==(u=n(r))?(e&&console.log("click refresh click cookie: "+u),t(u,100)):e&&console.log("click is not exists");var u,s,a,f=i(),g=null;let m;(m=!1,0===o.length?(console.error("sources empty"),!1):(o.forEach(function(r){let o=new URLSearchParams(window.location.search).get(r.source_param);o&&o===r.source_value&&(m=!0,e&&console.log("matched "+r.source_param+"="+r.source_value))}),m))?(g=null,f=null,s=r,document.cookie=s+"=;Path=/;expires=Thu, 01 Jan 1970 00:00:01 GMT",e&&console.log("delete click")):(g=(a=c,new URLSearchParams(window.location.search).get(a)),e&&console.log("source_param match not match set click")),null!==g&&g&&(e&&console.log("click_from_url: "+g),g!==f&&(e&&console.log("set new click: "+g),t(g),f=g)),e&&console.log("click: "+i())},getClick:function(){return i()},conversion:function(r,o,n){if(!r){console.error("actionID required for conversion");return}if(!o){console.error("token required for conversion");return}var t=i(),c="";if(!n||"object"!=typeof n||Array.isArray(n)){console.error("bad params");return}if(n.token=o,n.trans_id||(n.trans_id=t),c=new URLSearchParams(n).toString(),e&&console.log("conversion click : "+t),t){e&&console.log("write conversion: "+t),e&&console.log("write conversion: "+c);var l="https://rdr.myintsd.com/in/postback/"+r+"/"+t+"?"+c;e&&console.log("conversion url: "+l),fetch(l,{cache:"no-cache",redirect:"follow",credentials:"omit"}).then(r=>r.text()).then(r=>console.log("conversion write: "+r)).catch(r=>{console.error("Error:",r)})}},run:function(r){r()}}}();