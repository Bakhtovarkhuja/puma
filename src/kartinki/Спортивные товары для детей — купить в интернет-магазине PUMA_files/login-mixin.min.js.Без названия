define(['jquery'],function($){'use strict';var loginWidgetMixin={initPopupMode:function(){$('body').on('click',this.options.selector,function(e){e.preventDefault();const $target=$(e.currentTarget);const href=$target.attr('href');const title=$target.attr('title');const top=(window.outerHeight-480)/ 2;const left=(window.outerWidth-640)/ 2;const features='width=640px,height=480px,top='+top+'px,left='+left+'px';window.open(href,title,features);});window.addEventListener('message',function(e){const data=e.data;if(data.name!=='socialLogin'){return;}
window.sessionStorage.setItem('wishlist_auth_social',JSON.stringify(data));this.updateCustomerData();if($('.socialLogin').hasClass('cms-page-social-block')){window.location.href='customer/account';}else if(data.url){window.location.href=data.url;}else{window.location.reload();}}.bind(this));},};return function(targetWidget){$.widget('mst.socialLogin',targetWidget,loginWidgetMixin);return $.mst.socialLogin;};});