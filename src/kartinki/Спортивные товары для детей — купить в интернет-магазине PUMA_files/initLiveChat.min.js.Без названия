define([],function(){return function(){window.LiveChatWidget=window.LiveChatWidget||null;if(window.LiveChatWidget){initChat();}else{const intervalId=setInterval(()=>{if(window.LiveChatWidget){initChat();clearInterval(intervalId);}},3000);}
function initChat(){window.LiveChatWidget.on('ready',onReady);window.LiveChatWidget.init();}
function onReady(initialData){window.LiveChatWidget.call("hide");window.$LiveChatWidgetInited=initialData;document.body.dispatchEvent(new CustomEvent('liveChat.initialized',{detail:initialData}))}
function onVisibilityChanged(data){document.body.classList
switch(data.visibility){case"maximized":document.body.classList.remove('livechat-maximized','livechat-minimized','livechat-hidden');document.body.classList.add('livechat-maximized');break;case"minimized":document.body.classList.remove('livechat-maximized','livechat-minimized','livechat-hidden');document.body.classList.add('livechat-minimized');break;case"hidden":document.body.classList.remove('livechat-maximized','livechat-minimized','livechat-hidden');document.body.classList.add('livechat-hidden');break;}}
LiveChatWidget?.on('visibility_changed',onVisibilityChanged);};});