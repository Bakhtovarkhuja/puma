define([],function(){return function(config={domElements:[],observerCallback:()=>{},observerOptions:{},}){const{domElements,observerCallback,observerOptions}=config;if(!domElements.length){console.error("%cError getting recommendations product slider items: ","background: #000; color: #c30677;",domElements);return;}
let headerHeight=0;let footerPopupHeight=0;const headerContainer=document.querySelector("puma-header");const footerMobilePopup=document.querySelector(".product-info-actions");if(headerContainer&&headerContainer.headerBarHeight){headerHeight=headerContainer.headerBarHeight;}
if(footerMobilePopup&&getComputedStyle(footerMobilePopup).position==="fixed"){footerPopupHeight=footerMobilePopup.offsetHeight;}
const baseObserverOptions={root:null,rootMargin:`${ -headerHeight }px 0px ${ -footerPopupHeight }px 0px`,threshold:0.5,trackVisibility:true,delay:300};const combinedOptions=Object.assign(baseObserverOptions,observerOptions)
const observer=new IntersectionObserver(observerCallback,combinedOptions);for(let i=0;i<domElements.length;i++){observer.observe(domElements[i]);}};});